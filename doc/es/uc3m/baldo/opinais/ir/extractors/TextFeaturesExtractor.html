<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="es">
<head>
<!-- Generated by javadoc (version 1.7.0_10) on Sun May 12 22:53:24 CEST 2013 -->
<title>TextFeaturesExtractor</title>
<meta name="date" content="2013-05-12">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="TextFeaturesExtractor";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TextFeaturesExtractor.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../es/uc3m/baldo/opinais/ir/extractors/FeaturesExtractor.html" title="interface in es.uc3m.baldo.opinais.ir.extractors"><span class="strong">Prev Class</span></a></li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?es/uc3m/baldo/opinais/ir/extractors/TextFeaturesExtractor.html" target="_top">Frames</a></li>
<li><a href="TextFeaturesExtractor.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">es.uc3m.baldo.opinais.ir.extractors</div>
<h2 title="Class TextFeaturesExtractor" class="title">Class TextFeaturesExtractor</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>es.uc3m.baldo.opinais.ir.extractors.TextFeaturesExtractor</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../../../es/uc3m/baldo/opinais/ir/extractors/FeaturesExtractor.html" title="interface in es.uc3m.baldo.opinais.ir.extractors">FeaturesExtractor</a>&lt;java.lang.String,<a href="../../../../../../es/uc3m/baldo/opinais/ir/items/TextItem.html" title="class in es.uc3m.baldo.opinais.ir.items">TextItem</a>&gt;</dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">TextFeaturesExtractor</span>
extends java.lang.Object
implements <a href="../../../../../../es/uc3m/baldo/opinais/ir/extractors/FeaturesExtractor.html" title="interface in es.uc3m.baldo.opinais.ir.extractors">FeaturesExtractor</a>&lt;java.lang.String,<a href="../../../../../../es/uc3m/baldo/opinais/ir/items/TextItem.html" title="class in es.uc3m.baldo.opinais.ir.items">TextItem</a>&gt;</pre>
<div class="block"><p>Extracts string features from a set of text items based on the information
 gain measure.</p>
 <p>In summary, it calculates the information gain for each word
 in the text, selecting as features the <em>n</em> words with a higher value
 for this metric.</p>
 <p>In a later stage, items are vectorized into an array of bits, with each 
 of these representing whether the item contains the word in the same position
 in the features array.</p></div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>Alejandro Baldominos</dd>
<dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../../es/uc3m/baldo/opinais/ir/vectorizers/TextVectorizer.html" title="class in es.uc3m.baldo.opinais.ir.vectorizers"><code>TextVectorizer</code></a></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><strong><a href="../../../../../../es/uc3m/baldo/opinais/ir/extractors/TextFeaturesExtractor.html#nFeatures">nFeatures</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static java.util.regex.Pattern</code></td>
<td class="colLast"><code><strong><a href="../../../../../../es/uc3m/baldo/opinais/ir/extractors/TextFeaturesExtractor.html#SEPARATOR">SEPARATOR</a></strong></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../../es/uc3m/baldo/opinais/ir/extractors/TextFeaturesExtractor.html#TextFeaturesExtractor(int)">TextFeaturesExtractor</a></strong>(int&nbsp;nFeatures)</code>
<div class="block">Constructs a new text features extractor.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String[]</code></td>
<td class="colLast"><code><strong><a href="../../../../../../es/uc3m/baldo/opinais/ir/extractors/TextFeaturesExtractor.html#extractFeatures(java.util.Set)">extractFeatures</a></strong>(java.util.Set&lt;? extends <a href="../../../../../../es/uc3m/baldo/opinais/ir/items/TextItem.html" title="class in es.uc3m.baldo.opinais.ir.items">TextItem</a>&gt;&nbsp;items)</code>
<div class="block">Extracts string features from a set of text items based on the information
 gain measure.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private double</code></td>
<td class="colLast"><code><strong><a href="../../../../../../es/uc3m/baldo/opinais/ir/extractors/TextFeaturesExtractor.html#informationGain(java.util.Set)">informationGain</a></strong>(java.util.Set&lt;? extends <a href="../../../../../../es/uc3m/baldo/opinais/ir/items/TextItem.html" title="class in es.uc3m.baldo.opinais.ir.items">TextItem</a>&gt;&nbsp;items)</code>
<div class="block">Calculates the information gain from the complete set of items.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private double</code></td>
<td class="colLast"><code><strong><a href="../../../../../../es/uc3m/baldo/opinais/ir/extractors/TextFeaturesExtractor.html#informationGain(java.lang.String, java.util.Map, java.util.Map, boolean)">informationGain</a></strong>(java.lang.String&nbsp;word,
               java.util.Map&lt;<a href="../../../../../../es/uc3m/baldo/opinais/core/types/Type.html" title="enum in es.uc3m.baldo.opinais.core.types">Type</a>,java.lang.Integer&gt;&nbsp;occurrences,
               java.util.Map&lt;<a href="../../../../../../es/uc3m/baldo/opinais/core/types/Type.html" title="enum in es.uc3m.baldo.opinais.core.types">Type</a>,java.util.Map&lt;java.lang.String,java.lang.Integer&gt;&gt;&nbsp;wordsOccurrencesByType,
               boolean&nbsp;appears)</code>
<div class="block">Calculates the information gain from a subset of items.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="SEPARATOR">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>SEPARATOR</h4>
<pre>private static final&nbsp;java.util.regex.Pattern SEPARATOR</pre>
</li>
</ul>
<a name="nFeatures">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>nFeatures</h4>
<pre>private&nbsp;int nFeatures</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="TextFeaturesExtractor(int)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>TextFeaturesExtractor</h4>
<pre>public&nbsp;TextFeaturesExtractor(int&nbsp;nFeatures)</pre>
<div class="block"><p>Constructs a new text features extractor.</p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>nFeatures</code> - the number of features to be extracted 
 from the set of text items.</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="extractFeatures(java.util.Set)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>extractFeatures</h4>
<pre>public&nbsp;java.lang.String[]&nbsp;extractFeatures(java.util.Set&lt;? extends <a href="../../../../../../es/uc3m/baldo/opinais/ir/items/TextItem.html" title="class in es.uc3m.baldo.opinais.ir.items">TextItem</a>&gt;&nbsp;items)</pre>
<div class="block"><p>Extracts string features from a set of text items based on the information
 gain measure.</p>
 <p>In summary, it calculates the information gain for each word
 in the text, selecting as features the <em>n</em> words with a higher value
 for this metric.</p></div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../../es/uc3m/baldo/opinais/ir/extractors/FeaturesExtractor.html#extractFeatures(java.util.Set)">extractFeatures</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../es/uc3m/baldo/opinais/ir/extractors/FeaturesExtractor.html" title="interface in es.uc3m.baldo.opinais.ir.extractors">FeaturesExtractor</a>&lt;java.lang.String,<a href="../../../../../../es/uc3m/baldo/opinais/ir/items/TextItem.html" title="class in es.uc3m.baldo.opinais.ir.items">TextItem</a>&gt;</code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>items</code> - the set of items needed to extract the features.</dd>
<dt><span class="strong">Returns:</span></dt><dd>a sorted array of string containing the features (words).</dd></dl>
</li>
</ul>
<a name="informationGain(java.lang.String, java.util.Map, java.util.Map, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>informationGain</h4>
<pre>private&nbsp;double&nbsp;informationGain(java.lang.String&nbsp;word,
                     java.util.Map&lt;<a href="../../../../../../es/uc3m/baldo/opinais/core/types/Type.html" title="enum in es.uc3m.baldo.opinais.core.types">Type</a>,java.lang.Integer&gt;&nbsp;occurrences,
                     java.util.Map&lt;<a href="../../../../../../es/uc3m/baldo/opinais/core/types/Type.html" title="enum in es.uc3m.baldo.opinais.core.types">Type</a>,java.util.Map&lt;java.lang.String,java.lang.Integer&gt;&gt;&nbsp;wordsOccurrencesByType,
                     boolean&nbsp;appears)</pre>
<div class="block"><p>Calculates the information gain from a subset of items.</p>
 <p>This method is implemented for efficiency purposes: while 
 <a href="../../../../../../es/uc3m/baldo/opinais/ir/extractors/TextFeaturesExtractor.html#extractFeatures(java.util.Set)"><code>extractFeatures(Set)</code></a> could be
 used instead, creating a set of items containing (or not containing)
 an specific word is quite time-expensive.</p>
 <p>This alternative uses frequency maps for each word and type, which 
 provides all the information required for calculating the information
 gain without the explicit requirement of creating two sets for each word.
 By doing so, the time required for features extraction is reduced in several
 orders of magnitude.</p>
 <p>The information gain is calculated as I\(S^{word}\) = \sum_{t \in Types}
 {P\(S_t^{word}\)\log_{2}{P\(S_t^{word}\)}}, where P\(S_t^{word}\) means
 the probability that an item either containing or not (depending on the
 value of the <em>appears</em> flag) an specific word belongs to the type
 <em>t</em>.</p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>word</code> - the specific word to calculate the information gain.</dd><dd><code>occurrences</code> - a map containing the number of items per each type.</dd><dd><code>wordsOccurrencesByType</code> - a map containing the number of occurrences of each
 word per each type.</dd><dd><code>appears</code> - determines whether to calculate the information gain over the
 appearance set (true) or the non-appearance set (false).</dd>
<dt><span class="strong">Returns:</span></dt><dd>the information gain for the appearance (or lack of appearance if
 the <em>appears</em> flag is set to false) of the specified word.</dd></dl>
</li>
</ul>
<a name="informationGain(java.util.Set)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>informationGain</h4>
<pre>private&nbsp;double&nbsp;informationGain(java.util.Set&lt;? extends <a href="../../../../../../es/uc3m/baldo/opinais/ir/items/TextItem.html" title="class in es.uc3m.baldo.opinais.ir.items">TextItem</a>&gt;&nbsp;items)</pre>
<div class="block"><p>Calculates the information gain from the complete set of items.</p>
 <p>The information gain is calculated as I\(S\) = \sum_{t \in Types}
 {P\(S_t\)\log_{2}{P\(S_t\)}}, where P\(S_t\) means the probability that
 an item is of type <em>t</em> in the set <em>S</em>.</p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>items</code> - the set of items.</dd>
<dt><span class="strong">Returns:</span></dt><dd>the information gain for the set of items.</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TextFeaturesExtractor.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../es/uc3m/baldo/opinais/ir/extractors/FeaturesExtractor.html" title="interface in es.uc3m.baldo.opinais.ir.extractors"><span class="strong">Prev Class</span></a></li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?es/uc3m/baldo/opinais/ir/extractors/TextFeaturesExtractor.html" target="_top">Frames</a></li>
<li><a href="TextFeaturesExtractor.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
